# Writeup 3 - Operational Security and Social Engineering

Name: Akshay Anil
Section: 0201

I pledge on my honor that I have not given or received any unauthorized assistance on this assignment or examniation.

Digital acknowledgement: Akshay Anil

## Assignment Writeup

### Part 1 (40 pts)

> ...write up (step-by-step) how you got the flag and what Elizabeth should do to protect from this vulnerability.

To find the flag, I first attempted to connect to the service using the Netcat command `nc 1337bank.money 1337`. This prompted me for a domain/IP to look up. Prior knowledge from my CMSC330 at UMD reminded me that user-inputs are susceptible to attacks if not protected properly. I tested for this vulnerability by responding with  `; ls`. The shell returned the intended information as well as a list of files and folders in the root directory. Inputs such as `;` and `&&` are used in Ubuntu to signify a chain of system commands. My query ended the input string and then asked the server to perform an `ls`. v0idcache can utilize input sanitization to prevent this vulnerability from being exploited in the future. Input sanitization consists of removing parts of a query to ensure that it is valid. In my example, the input would be trimmed to just `ls` as a string.
The list of folders included `/home/`, which is typically where user-created files are stored. To see the contents of this folder, I ran the `nc` command again and then provided `; cd home && ls` as an input. Here, `&&` let me run `ls` after going into `/home/`. The result of this query was a single file named `flag.txt`. I ran `cat` on it to see the flag **CMSC389R-{d1gging_f0r_flag5_thr0ugh_1njec7ion}**. My final query was **`; cd home && cat flag.txt`**. Upon closer inspection, you will see the lack of `ls` statements. I was able to remove these because previous inputs showed me exactly where the flag file was located.

- - -
### Part 2 (60 pts)

Inside `/writeup/` for this assignment, you will find a Python script named `shell.py`. The user is given the choice between using an interactive shell, downloading files from the server, displaying a help menu, and quitting the shell. Inputting `shell` will utilize a socket connection to remotely send commands to v0idcache's server. The script displays the current directory based on `cd`s to make it easier to understand where commands are being run. In order to further boost a user's experience, only relevant outputs are displayed. Text, such as the intended function of the service, is not printed to the console. This helped to make the shell look as similar as possible to the one seen in `shellimg.png` for this assignment. To cleanly leave the shell, users must enter `exit`. `Ctrl-C` will force close the session.
For downloading files, input a query in the format `pull <remote-path> <local-path>`. An example query looks like `pull /home/flag.txt local.txt`. This will copy the contents of `flag.txt` from v0idcahce's server using `cat` and write it to a file named `local.txt` in the directory where the shell was opened. For the scope of this project, the existence of the file was not verified. This script assumes that there is a file on the remote server to copy over to the user's local machine.
Typing `quit` will simply close the script by running `exit()`. All other inputs display the following help menu:
1) `shell`                               Drop into an interactive shell and allow users to gracefully `exit`
2) `pull <remote-path> <local-path>`     Download files
3) `help`                                Shows this help menu
4) `quit`                                Quit the shell
